{"version":3,"sources":["context/UserContext.js","utils/Auth.js","components/LogInForm.js","pages/Login.js","utils/API.js","components/SignUpForm.js","pages/SignUp.js","components/ProtectedRoute.js","components/NavBar/index.js","App.js","index.js"],"names":["createContext","Auth","isLoggedIn","localStorage","getItem","logIn","username","password","cb","axios","post","then","response","setItem","data","token","logOut","removeItem","getToken","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","withRouter","props","useState","fieldValues","setFieldValues","user","useContext","UserContext","changeHandler","e","target","name","value","newFieldValues","submitHandler","preventDefault","setUser","history","push","classes","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","onSubmit","noValidate","Grid","container","item","xs","TextField","required","fullWidth","id","label","autoComplete","autoFocus","onChange","type","Button","color","onClick","Link","href","Login","input","get","headers","Authorization","errors","fontWeight","confirmPassword","formValues","setFormValues","defaultFormErrors","duplicate","formErrors","setFormErrors","newFormErrors","length","console","log","valid","Object","values","forEach","val","formValid","API","catch","err","error","SignUpPage","SignUpForm","ProtectedRoute","Component","rest","render","to","root","flexGrow","title","breakpoints","down","float","link","fontSize","appitems","NavBar","AppBar","position","Toolbar","loggedIn","src","alt","style","height","createMuiTheme","primary","App","state","setState","this","ThemeProvider","Provider","exact","path","Home","SignUp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a4009cfc.chunk.js","sourcesContent":["  \r\nimport { createContext } from \"react\";\r\n\r\nexport default createContext();","import axios from \"axios\";\r\n\r\nfunction Auth() {\r\n\r\n  function logIn(username, password, cb) {\r\n    axios.post(\"/api/authenticate\", { username: username, password: password })\r\n      .then(response => {\r\n        localStorage.setItem(\"token\", response.data.token);\r\n        cb(response.data);\r\n      });\r\n  }\r\n\r\n  function logOut(cb) {\r\n    localStorage.removeItem(\"token\");\r\n    cb();\r\n  }\r\n\r\n  function getToken() {\r\n    return localStorage.getItem(\"token\");\r\n  }\r\n\r\n  function isLoggedIn() {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return {\r\n    isLoggedIn,\r\n    logIn,\r\n    logOut,\r\n    getToken\r\n  }\r\n}\r\n\r\nexport default Auth();","import React, { useState, useContext } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UserContext from \"../context/UserContext\";\r\nimport Auth from \"../utils/Auth\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nfunction LogIn(props) {\r\n    const [fieldValues, setFieldValues] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    });\r\n    const user = useContext(UserContext);\r\n\r\n    const changeHandler = (e) => {\r\n        const { name, value } = e.target;\r\n        const newFieldValues = { ...fieldValues, [name]: value };\r\n        setFieldValues(newFieldValues);\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        const { username, password } = fieldValues;\r\n        if (username && password) {\r\n            Auth.logIn(username, password, (response) => {\r\n                user.setUser(response);\r\n                props.history.push(\"/\");\r\n            });\r\n        }\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\" >\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Log In\r\n                </Typography>\r\n                <form className={classes.form} onSubmit={submitHandler} noValidate>\r\n                    <Grid container spacing={2}>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"username\"\r\n                                label=\"Username\"\r\n                                name=\"username\"\r\n                                autoComplete=\"username\"\r\n                                autoFocus\r\n                                value={fieldValues.username}\r\n                                onChange={changeHandler}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"current-password\"\r\n                                value={fieldValues.password}\r\n                                onChange={changeHandler}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={submitHandler}\r\n                    >\r\n                        Log In\r\n                    </Button>\r\n                    <Grid container>\r\n                        <Grid item>\r\n                            <Link href=\"/signup\" variant=\"body2\">\r\n                                {\"Don't have an account yet? Sign Up\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default withRouter(LogIn);","  \r\nimport React from \"react\";\r\nimport LoginForm from \"../components/LogInForm\";\r\n\r\nfunction Login() {\r\n\r\n    return (\r\n        <>\r\n            <LoginForm /></>\r\n    );\r\n}\r\n\r\nexport default Login;","import axios from \"axios\";\r\nexport default {\r\n    signup: function (input) {\r\n        return axios.post(\"/api/signup\", input);\r\n    },\r\n    authenticate: function (input) {\r\n        return axios.post(\"/api/authenticate\", input);\r\n    },\r\n    getUser: function () {\r\n        return axios.get(\"/api/me\", {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n            }\r\n        });\r\n    },\r\n    createRecipe: function (recipe) {\r\n        return axios.post(\"/api/recipes\", recipe);\r\n    },\r\n    deleteRecipe: function (id) {\r\n        return axios.delete(\"/api/recipes/\" + id);\r\n    },\r\n    getUserRecipes: function (id) {\r\n        return axios.get(\"/api/recipes/\" + id);\r\n    },\r\n    getAllRecipes: function () {\r\n        return axios.get(\"/api/recipes\");\r\n    }\r\n};","import React, { useState, useContext } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UserContext from \"../context/UserContext\";\r\nimport API from \"../utils/API\";\r\nimport Auth from \"../utils/Auth\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  },\r\n  errors: {\r\n    fontWeight: \"bolder\",\r\n    color: \"red\"\r\n  }\r\n}));\r\n\r\nconst formValid = formErrors => {\r\n  let valid = true;\r\n\r\n  Object.values(formErrors).forEach(val => {\r\n    val.length > 0 && (valid = false);\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\nfunction SignUp(props) {\r\n  const [formValues, setFormValues] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\"\r\n  });\r\n\r\n  const defaultFormErrors = {\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    duplicate: \"\"\r\n  };\r\n  const [formErrors, setFormErrors] = useState(defaultFormErrors);\r\n\r\n  const changeHandler = e => {\r\n    const { name, value } = e.target;\r\n    const newFieldValues = { ...formValues, [name]: value };\r\n    setFormValues(newFieldValues);\r\n\r\n    const newFormErrors = { ...formErrors };\r\n\r\n    switch (name) {\r\n      case \"username\":\r\n        newFormErrors.username =\r\n          value.length < 3 ? \"minimum of 3 characters required\" : \"\";\r\n        break;\r\n      case \"password\":\r\n        newFormErrors.password =\r\n          value.length < 6 ? \"minimum of 6 characters required\" : \"\";\r\n        break;\r\n      case \"confirmPassword\":\r\n        newFormErrors.confirmPassword =\r\n          formValues.password !== value ? \"Must match Password\" : \"\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    setFormErrors(newFormErrors);\r\n  };\r\n\r\n  const user = useContext(UserContext);\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n    const { username, password, confirmPassword } = formValues;\r\n    console.log(\"user name--> \", username)\r\n    console.log('password---> ', password)\r\n    if (formValid(formErrors)) {\r\n      if (username && password === confirmPassword) {\r\n        const data = {\r\n          username: username,\r\n          password: password\r\n        };\r\n        API.signup(data, response => {\r\n            console.log(response);\r\n        })\r\n          .then(\r\n            Auth.logIn(username, password, response => {\r\n              user.setUser(response);\r\n              props.history.push(\"/\");\r\n        \r\n            })\r\n          )\r\n          .catch(err => {\r\n            console.log(err.response.data.error);\r\n            setFormErrors({\r\n              ...defaultFormErrors,\r\n              duplicate: \"Username is taken. Please try again.\"\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={submitHandler} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                \r\n                autoFocus\r\n                value={formValues.username}\r\n                onChange={changeHandler}\r\n              />\r\n              {formErrors.username.length > 0 && (\r\n                <span className={classes.errors}>{formErrors.username}</span>\r\n              )}\r\n              {formErrors.duplicate.length > 0 && (\r\n                <span className={classes.errors}>{formErrors.duplicate}</span>\r\n              )}\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n               \r\n                autoComplete=\"current-password\"\r\n                value={formValues.password}\r\n                onChange={changeHandler}\r\n              />\r\n              {formErrors.password.length > 0 && (\r\n                <span className={classes.errors}>{formErrors.password}</span>\r\n              )}\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n               \r\n                name=\"confirmPassword\"\r\n                label=\"Confirm Password\"\r\n                type=\"password\"\r\n                id=\"confirmPassword\"\r\n                value={formValues.confirmPassword}\r\n                onChange={changeHandler}\r\n              />\r\n              {formErrors.confirmPassword.length > 0 && (\r\n                <span className={classes.errors}>\r\n                  {formErrors.confirmPassword}\r\n                </span>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={submitHandler}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link href=\"/login\" variant=\"body2\">\r\n                {\"Already have an account? Log In\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(SignUp);","import React from \"react\";\r\nimport SignUpForm from \"../components/SignUpForm\";\r\n\r\nfunction SignUpPage() {\r\n  return <SignUpForm />;\r\n}\r\n\r\nexport default SignUpPage;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Auth from \"../utils/Auth\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        Auth.isLoggedIn() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n            <Redirect to=\"/login\" />\r\n        )\r\n    )} />\r\n);\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: theme.spacing(3)\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    margin: 5,\r\n    [theme.breakpoints.down('xs')]: {\r\n      display: \"none\",\r\n    },\r\n    float: 'left',\r\n    font: \"bold 40px Times New Roman, Times, serif\"\r\n  },\r\n  avatar: {\r\n    margin: 5,\r\n    float: 'left'\r\n  },\r\n\r\n  link: {\r\n    color: 'white',\r\n    [theme.breakpoints.down('xs')]: {\r\n      fontSize: \".75rem\",\r\n    },\r\n    textDecoration: \"none\"\r\n  },\r\n\r\n  appitems: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      margin: \"0 auto\",\r\n    },\r\n  }\r\n}));\r\n\r\nconst NavBar = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n\r\n    <AppBar position=\"static\">\r\n      <Toolbar className={classes.appitems}>\r\n        {props.loggedIn ? <>\r\n          <img\r\n            src=\"../logo192.png\"\r\n            alt=\"logo\"\r\n            className={classes.avatar}\r\n            style={{ height: \"40px\" }}\r\n          />\r\n          <Typography variant=\"h4\" className={classes.title}>\r\n            shaREcipe\r\n          </Typography> <Button>\r\n            <Link color=\"inherit\" to=\"/home\" className={classes.link}>\r\n              Home\r\n            </Link>\r\n          </Button>\r\n          <Button>\r\n            <Link color=\"inherit\" to=\"/newrecipe\" className={classes.link}>\r\n              New Recipe\r\n            </Link>\r\n          </Button>\r\n          <Button>\r\n            <Link color=\"inherit\" to=\"/profile\" className={classes.link}>Profile</Link>\r\n          </Button></>\r\n          :\r\n          <div style={{ margin: '0 auto' }}>\r\n            <img\r\n              src=\"../logo192.png\"\r\n              alt=\"logo\"\r\n              className={classes.avatar}\r\n              style={{ width: \"50px\" }}\r\n            />\r\n            <Typography variant=\"h4\" className={classes.title}>\r\n              shaREcipe\r\n          </Typography></div>}\r\n      </Toolbar>\r\n    </AppBar>\r\n\r\n  );\r\n};\r\n\r\nexport default NavBar;","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"./App.css\";\n// import Profile from \"./pages/Profile\"\nimport Login from \"./pages/Login\"\n// import NewRecipe from \"./pages/NewRecipe\";\nimport Home from \"./pages/Home\";\nimport SignUp from \"./pages/SignUp\";\nimport { Container } from \"@material-ui/core\";\nimport UserContext from \"./context/UserContext\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport API from \"./utils/API\";\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport NavBar from \"./components/NavBar\";\nimport Auth from \"./utils/Auth\";\n\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#9a0036'\n    },\n\n    secondary: {\n      main: '#dc004e'\n    }\n\n  },\n});\n\nclass App extends Component {\n  state = {\n    user: null\n  }\n\n  setUser = user => {\n    this.setState({ user: user })\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      API.getUser()\n        .then(response => {\n          this.setUser(response.data)\n        })\n    }\n  }\n\n\n  render() {\n    const { user } = this.state;\n    const setUser = this.setUser;\n    let loggedIn = Auth.isLoggedIn();\n\n    return (\n      <>\n        <ThemeProvider theme={theme}>\n          <Container>\n            <Router>\n              <NavBar loggedIn={loggedIn} />\n              <UserContext.Provider\n                value={{\n                  user: user,\n                  setUser: setUser\n                }}\n              >\n                <ProtectedRoute exact path=\"/\" component={Home} />\n                <ProtectedRoute exact path=\"/home\" component={Home} />\n                {/* <ProtectedRoute exact path=\"/newrecipe\" component={NewRecipe} />\n                <ProtectedRoute exact path=\"/profile\" component={Profile} /> */}\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/signup\" component={SignUp} />\n              </UserContext.Provider>\n            </Router>\n          </Container>\n        </ThemeProvider>\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}